{"ast":null,"code":"var _jsxFileName = \"/Users/marcelkalveram/dev/projects/the-sustainable-list-next/src/pages/index.js\";\nvar __jsx = React.createElement;\nimport React, { useMemo, useReducer } from 'react';\nimport '../styles/App.css'; // data\n\nimport data from '../data';\nimport { criteriaMap } from '../config/criteriaMap';\nimport { filterBrands } from '../helpers/filter';\nimport { sortByAz, sortByPrice } from '../helpers/sort';\nimport { actions, initialState, reducer } from '../store'; // UI\n\nimport { Layout } from '../components/Layout';\nimport { Main } from '../components/Main/Main';\nimport { Header } from '../components/Header/Header';\nimport { Sort } from '../components/Sort/Sort';\nimport { Brands } from '../components/Brands/Brands';\nimport { Filters } from '../components/Filters/Filters';\nexport default function Index() {\n  var _useReducer = useReducer(reducer, initialState),\n      state = _useReducer[0],\n      dispatch = _useReducer[1]; // filter\n\n\n  var brands = useMemo(function () {\n    return data.brands.filter(function (brands) {\n      return filterBrands(brands, state.selected);\n    });\n  }, [state.selected]); // search for filter\n\n  if (state.searchFor !== '') {\n    brands = brands.filter(function (brand) {\n      return brand.fields.title.toLowerCase().includes(state.searchFor.toLowerCase());\n    });\n  } // sort by price\n\n\n  if (state.sortBy.price !== null) {\n    brands.sort(function (a, b) {\n      return sortByPrice(state, a, b);\n    });\n  } // sort by az\n\n\n  if (state.sortBy.az !== null) {\n    brands.sort(function (a, b) {\n      return sortByAz(state, a, b);\n    });\n  }\n\n  return __jsx(Layout, {\n    fixed: state.showFilters,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, __jsx(Filters, {\n    criteriaMap: criteriaMap,\n    filters: state.filters,\n    selected: state.selected,\n    setSelected: function setSelected(selected) {\n      return dispatch({\n        type: actions.SET_SELECTED,\n        payload: selected\n      });\n    },\n    showFilters: state.showFilters,\n    setShowFilters: function setShowFilters(show) {\n      return dispatch({\n        type: actions.SET_SHOW_FILTERS,\n        payload: show\n      });\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }), __jsx(Main, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, __jsx(Sort, {\n    searchFor: state.searchFor,\n    setSearchFor: function setSearchFor(searchTerm) {\n      return dispatch({\n        type: actions.SET_SEARCH_FOR,\n        payload: searchTerm\n      });\n    },\n    totalCount: state.brandsCount,\n    count: state.brands.length,\n    sortBy: state.sortBy,\n    setSortBy: function setSortBy(sortBy) {\n      return dispatch({\n        type: actions.SET_SORT_BY,\n        payload: sortBy\n      });\n    },\n    setShowFilters: function setShowFilters(show) {\n      return dispatch({\n        type: actions.SET_SHOW_FILTERS,\n        payload: show\n      });\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }), __jsx(Brands, {\n    criteriaMap: criteriaMap,\n    brands: brands,\n    selected: state.selected,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  })));\n}","map":{"version":3,"sources":["/Users/marcelkalveram/dev/projects/the-sustainable-list-next/src/pages/index.js"],"names":["React","useMemo","useReducer","data","criteriaMap","filterBrands","sortByAz","sortByPrice","actions","initialState","reducer","Layout","Main","Header","Sort","Brands","Filters","Index","state","dispatch","brands","filter","selected","searchFor","brand","fields","title","toLowerCase","includes","sortBy","price","sort","a","b","az","showFilters","filters","type","SET_SELECTED","payload","show","SET_SHOW_FILTERS","searchTerm","SET_SEARCH_FOR","brandsCount","length","SET_SORT_BY"],"mappings":"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","sourcesContent":["import React, { useMemo, useReducer } from 'react';\nimport '../styles/App.css';\n\n// data\nimport data from '../data';\nimport { criteriaMap } from '../config/criteriaMap';\nimport { filterBrands } from '../helpers/filter';\nimport { sortByAz, sortByPrice } from '../helpers/sort';\nimport { actions, initialState, reducer } from '../store';\n\n// UI\nimport { Layout } from '../components/Layout';\nimport { Main } from '../components/Main/Main';\nimport { Header } from '../components/Header/Header';\nimport { Sort } from '../components/Sort/Sort';\nimport { Brands } from '../components/Brands/Brands';\nimport { Filters } from '../components/Filters/Filters';\n\nexport default function Index() {\n  const [state, dispatch] = useReducer(reducer, initialState);\n\n  // filter\n  let brands = useMemo(\n    () => data.brands.filter(brands => filterBrands(brands, state.selected)),\n    [state.selected],\n  );\n\n  // search for filter\n  if (state.searchFor !== '') {\n    brands = brands.filter(brand =>\n      brand.fields.title.toLowerCase().includes(state.searchFor.toLowerCase()),\n    );\n  }\n  // sort by price\n  if (state.sortBy.price !== null) {\n    brands.sort((a, b) => sortByPrice(state, a, b));\n  }\n\n  // sort by az\n  if (state.sortBy.az !== null) {\n    brands.sort((a, b) => sortByAz(state, a, b));\n  }\n\n  return (\n    <Layout fixed={state.showFilters}>\n      <Filters\n        criteriaMap={criteriaMap}\n        filters={state.filters}\n        selected={state.selected}\n        setSelected={selected =>\n          dispatch({ type: actions.SET_SELECTED, payload: selected })\n        }\n        showFilters={state.showFilters}\n        setShowFilters={show =>\n          dispatch({ type: actions.SET_SHOW_FILTERS, payload: show })\n        }\n      />\n      <Main>\n        <Sort\n          searchFor={state.searchFor}\n          setSearchFor={searchTerm =>\n            dispatch({ type: actions.SET_SEARCH_FOR, payload: searchTerm })\n          }\n          totalCount={state.brandsCount}\n          count={state.brands.length}\n          sortBy={state.sortBy}\n          setSortBy={sortBy =>\n            dispatch({ type: actions.SET_SORT_BY, payload: sortBy })\n          }\n          setShowFilters={show =>\n            dispatch({ type: actions.SET_SHOW_FILTERS, payload: show })\n          }\n        />\n        <Brands\n          criteriaMap={criteriaMap}\n          brands={brands}\n          selected={state.selected}\n        />\n      </Main>\n    </Layout>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}